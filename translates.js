var __language__ = {
eng: {
"Фреймворк для тестирования веб-приложений. Версия": "Framework for testing web-applications. Version",
"Выполняется в": "Running in",
"Выберите тест:": "Select test:",
"Прогресс:": "Progress:",
"Запущено:": "Runs:",
"Успешно:": "Success:",
"Ошибок:": "Failures:",
"Лог:": "Log:",
"Загрузка": "Show loading",
"Имена тестов": "Show test names",
"Запуск": "Run",
"Прервать": "Stop",
"Загружен": "Loaded",
"загружено": "loaded",
"из": "from",
"Загрузить": "Download",
"Документация": "Documentation",
"Лицензия": "License",
"Этот браузер не поддерживает технологию Ajax": "This browser not support Ajax-technology",
"Тест": "Test",
"не получен. Ответ сервера: ": "not received. Server response: ",
"Счётчик": "Counter",
"Ошибка в файле импорта": "Error in file of import",
"закрыть": "close",
"Добро пожаловать!<br><br>Тут можно протестировать <b>jsFUnit</b>.<br><br>Для демонстрации написаны несколько тестов.<br><br><b>Внимание!</b> 3 теста специально завершаются с ошибкой.<img class=\"rimg\" src=\"img/example_errors.png\"> Это сделано, чтобы продемонстрировать красные промежутки в прогресс-баре.<br><br>Поднесите к прогресс-бару мышку и лог переместится к сообщениям соответствующего теста.": "Welcome!<br><br>Here you can test <b>jsFUnit</b>.<br><br>Several tests are written for demonstration.<br><br><b>Attention!</b> Three tests are specially with error.<img class=\"rimg\" src=\"img/example_errors.png\"> It's made for demonstrate red  spaces in progressbar.<br><br>Take mouse to progressbar and log will move to messages of concrete test."
},

ukr: {
"Фреймворк для тестирования веб-приложений. Версия": "Фреймворк для тестування веб-програм. Версія",
"Выполняется в": "Виконується у",
"Выберите тест:": "Виберіть тест:",
"Прогресс:": "Прогрес:",
"Запущено:": "Виконується:",
"Успешно:": "Успішно:",
"Ошибок:": "Кепсько:",
"Лог:": "Лог:",
"Загрузка": "Загружені",
"Имена тестов": "Імена тестів",
"Запуск": "Запустити",
"Прервать": "Зупинити",
"Загружен": "Завантажено",
"загружено": "завантажено",
"из": "з",
"Загрузить": "Завантажити",
"Документация": "Документація",
"Лицензия": "Ліцензія",
"Этот браузер не поддерживает технологию Ajax": "Цей браузер не підтримує технологію Ajax",
"Тест": "Тест",
"не получен. Ответ сервера: ": "не отриман. Відповідь сервера: ",
"Счётчик": "Лічильник",
"Ошибка в файле импорта": "Помилка у файлі імпорта",
"закрыть": "зачинити",
"Добро пожаловать!<br><br>Тут можно протестировать <b>jsFUnit</b>.<br><br>Для демонстрации написаны несколько тестов.<br><br><b>Внимание!</b> 3 теста специально завершаются с ошибкой.<img class=\"rimg\" src=\"img/example_errors.png\"> Это сделано, чтобы продемонстрировать красные промежутки в прогресс-баре.<br><br>Поднесите к прогресс-бару мышку и лог переместится к сообщениям соответствующего теста.": "Сердечно вітаємо!<br><br>Тут можна протестувати <b>jsFUnit</b>.<br><br>Для демонстрації написано кілька тестів.<br><br><b>Увага!</b> Три теста спеціально завершуються помилкою.<img class=\"rimg\" src=\"img/example_errors.png\"> Це зроблено, щоб продемонструвати червоні проміжки у прогрес-барі.<br><br>Піднесіть до прогрес-бару мишу і лог переміститься до повідомлень відповідного тесту."
},

bel: {
"Фреймворк для тестирования веб-приложений. Версия": "Фреймворк для тэставання вэб-прыкладанняў. Версія",
"Выполняется в": "Выконваецца ў",
"Выберите тест:": "Абярыце тэст:",
"Прогресс:": "Прагрэс:",
"Запущено:": "Запушчана:",
"Успешно:": "Паспяхова:",
"Ошибок:": "Памылак:",
"Лог:": "Лог:",
"Загрузка": "Загрузка",
"Имена тестов": "Імёны тэстаў",
"Запуск": "Запуск",
"Прервать": "Перарваць",
"Загружен": "Загружаны",
"загружено": "загружана",
"из": "з",
"Загрузить": "Загрузіць",
"Документация": "Дакументацыя",
"Лицензия": "Ліцэнзія",
"Этот браузер не поддерживает технологию Ajax": "Гэты браўзар не падтрымлівае тэхналогію Ajax",
"Тест": "Тэст",
"не получен. Ответ сервера: ": "не атрыманы. Адказ сервера: ",
"Счётчик": "Лічыльнік",
"Ошибка в файле импорта": "Памылка ў файле імпарту",
"закрыть": "зачыніць",
"Добро пожаловать!<br><br>Тут можно протестировать <b>jsFUnit</b>.<br><br>Для демонстрации написаны несколько тестов.<br><br><b>Внимание!</b> 3 теста специально завершаются с ошибкой.<img class=\"rimg\" src=\"img/example_errors.png\"> Это сделано, чтобы продемонстрировать красные промежутки в прогресс-баре.<br><br>Поднесите к прогресс-бару мышку и лог переместится к сообщениям соответствующего теста.": "Сардэчна запрашаем!<br><br>Тут можна пратэставаць <b>jsFUnit</b>.<br><br>Для дэманстрацыі напісаны некалькі тэстаў.<br><br><b>Увага!</b> 3 цесты адмыслова завяршаюцца з памылкай.<img class=\"rimg\" src=\"img/example_errors.png\"> Гэта зроблена, каб прадэманстраваць чырвоныя прамежкі ў прагрэс-бары.<br><br>Паднясіце да прагрэс-бару мышку і лог перамесціцца да паведамленняў адпаведнага цеста."
}

}

// возвращает ассоциативный массив с куками
function cookies() {
	var cookie = document.cookie.split('; ')
	var i, map = {}
	for(i=0; i<cookie.length; i++) {
		var keyval = cookie[i].split('=')
		map[keyval[0]] = keyval[1]
	}

	return map
}

var __lang__ = cookies()["lang"]
var __map__ = {}

// Переводит текст
function $T(s) {
	if(__map__[s]) s = __map__[s]
	var phrase = __language__[__lang__]
	if(!phrase) return s
	if(phrase[s]) {
		var ph = phrase[s]
		__map__[ph] = s
		return ph
	}
	return s
}

// переводит текст в тегах <span> не имеющих id
function translate_span_without_id() {
	var tags = document.getElementsByTagName('span')
	var i
	for(i=0; i<tags.length; i++) {
		var tag = tags.item(i)
		if(!tag.id) tag.innerHTML = $T(tag.innerHTML.replace(/<[^<]+>/g, 
            function(a){return a.toLowerCase().replace(/=(\w+)/g, '="$1"')}))
	}
}

// Переводит текст в кнопках
function translate_button() {
	var tags = document.getElementsByTagName('input')
	var i
	for(i=0; i<tags.length; i++) {
		var tag = tags.item(i)
		if(tag.type=='button') tag.value = $T(tag.value)
	}
}

function translate_all() {
	translate_span_without_id()
	translate_button()
}

function translate_panel() {
    return '<img src="img/flag_ukrainy.gif" class=click onclick="set_lang_cookie(\'ukr\')"> ' +
'<img src="img/flag_belarusi.gif" class=click onclick="set_lang_cookie(\'bel\')"> ' +
'<img src="img/flag_rossii.gif" class=click onclick="set_lang_cookie(\'rus\')"> ' +
'<img src="img/flag_great_britain.gif" class=click onclick="set_lang_cookie(\'eng\')">'
}